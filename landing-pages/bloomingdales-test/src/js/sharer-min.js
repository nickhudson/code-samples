!function(e){var r={fb_app_id:"YOUR FACEBOOK APP ID HERE",fb_redir:"URL TO REDIRECT AFTER SHARE",googl_api_key:null,screen_name:"sharer",window:{width:400,height:500},onshare:null};_shortenUrl=function(r,t){var a=JSON.parse(e.ajax({url:"https://www.googleapis.com/urlshortener/v1/url"+(void 0!==t&&null!==t?"?key="+t:""),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:'{ longUrl: "'+r+'"}',async:!1}).responseText);return a.id},_getShareUrl=function(e,r,t){var a="",o=t.attr("href")||window.location.href,n=t.data("title")||t.attr("title")||"Exclusive Columbus Day offers from Bloomingdale's - Shop Now!",i=t.data("summary")||"";return"facebook"==e?a="https://www.facebook.com/dialog/share?app_id={APP_ID}&display=popup&href={URL}&redirect_uri={REDIRECT_URL}":"google"==e?a="https://plus.google.com/share?url={URL}":"twitter"==e?a="https://twitter.com/share?text={TITLE}&via={SCREEN_NAME}&url={URL}":"linkedin"==e?a="http://www.linkedin.com/shareArticle?mini=true&ro=true&url={URL}&title={TITLE}&summary={SUMMARY}":"pinterest"==e&&(a="http://pinterest.com/pin/create/link/?url={URL}&description={TITLE}"),o=t.data("shorten")?_shortenUrl(o,r.googl_api_key):o,a=a.replace("{APP_ID}",r.fb_app_id||""),a=a.replace("{TITLE}",escape(n.replace("{URL}",o))),a=a.replace("{SUMMARY}",escape(i)),a=a.replace("{URL}",escape(o)),a=a.replace("{REDIRECT_URL}",escape(r.fb_redir)),a=a.replace("{SCREEN_NAME}",escape(r.screen_name))},e.fn.sharer=function(t){var a=e.extend(r,t);return this.each(function(){var r=e(this),t=r.data("media");t?(r.addClass("sharer"),r.on("click",function(o){o.preventDefault();var n=window.open(_getShareUrl(t,a,r),"Sharer Window","channelmode=no,directories=no,fullscreen=no,status=no,toolbar=no,width="+(a.window.width||400)+",height="+(a.window.height||500)+",modal=yes,alwaysRaised=yes",!0);a.onshare&&e.isFunction(a.onshare)&&a.onshare(t,n)})):r.hide()})}}(jQuery);